---
# Cribl Stream outputs configuration
# Generated by Ansible

outputs:
  splunk:splunk_hec:
    id: splunk_hec
    type: splunk_hec
    disabled: false
    url: "{{ 'https' if cribl_stream_splunk_hec_tls else 'http' }}://{{ cribl_stream_splunk_host }}:{{ cribl_stream_splunk_hec_port }}/services/collector/event"
    token: "{{ cribl_stream_splunk_hec_token }}"
{% if cribl_stream_splunk_hec_tls %}
    tls:
      disabled: false
      rejectUnauthorized: {{ cribl_stream_splunk_hec_tls_verify | lower }}
{% endif %}
    concurrency: 5
    maxPayloadSizeKB: 4096
    maxPayloadEvents: 0
    compress: true
    pqEnabled: true
    pqMaxFileSize: "1 GB"
    pqMaxSize: "10 GB"
    pqPath: "{{ cribl_stream_queue_dir }}"
    pqCompress: none
    onBackpressure: block
    authType: manual

  # Default output for unmatched events
  default:default:
    id: default
    type: default
    systemFields:
      - cribl_pipe
