---
# Cribl Edge inputs configuration
# Generated by Ansible

inputs:
{% for listener in cribl_edge_syslog_ports %}
  syslog:in_syslog_{{ listener.name }}:
    id: in_syslog_{{ listener.name }}
    type: syslog
    disabled: false
    pipeline: main
    sendToRoutes: true
    host: "0.0.0.0"
    port: {{ listener.port }}
{% if listener.protocol == 'udp' %}
    udpMode: true
{% else %}
    tls:
      disabled: true
    maxActiveCxn: 100
{% endif %}
    enableProxyHeader: false
    captureHeaders: false
    activityLogSampleRate: 100
    enableMultiline: false
    metadata:
      - name: source_type
        value: "{{ listener.name | regex_replace('_udp$', '') }}"
    pqEnabled: true

{% endfor %}
